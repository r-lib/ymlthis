<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set YAML for Scheduled Emails in RStudio Connect — yml_rsconnect_email • ymlthis</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Set YAML for Scheduled Emails in RStudio Connect — yml_rsconnect_email"><meta property="og:description" content="RStudio Connect allows you to schedule emails to send using R Markdown. It
uses a special type of YAML using the top-level field rmd_output_metadata
that tells RStudio Connect about the email output. Several rsc_* fields
exist to specify different components of the email, which can be set in the
YAML header or programmatically using rmarkdown::output_metadata(). See the
RStudio Connect documentation
for more. yml_output_metadata() allows you to add any type of content to
the rmd_output_metadata field."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ymlthis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.6.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/introduction-to-ymlthis.html">An Introduction to ymlthis</a>
    </li>
    <li>
      <a href="../articles/yaml-fieldguide.html">The YAML Fieldguide</a>
    </li>
    <li>
      <a href="../articles/yaml-overview.html">YAML: an Overview</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/r-lib/ymlthis/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set YAML for Scheduled Emails in RStudio Connect</h1>
    <small class="dont-index">Source: <a href="https://github.com/r-lib/ymlthis/blob/HEAD/R/yml_rsconnect.R" class="external-link"><code>R/yml_rsconnect.R</code></a></small>
    <div class="hidden name"><code>yml_rsconnect_email.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>RStudio Connect allows you to schedule emails to send using R Markdown. It
uses a special type of YAML using the top-level field <code>rmd_output_metadata</code>
that tells RStudio Connect about the email output. Several <code>rsc_*</code> fields
exist to specify different components of the email, which can be set in the
YAML header or programmatically using <code><a href="https://pkgs.rstudio.com/rmarkdown/reference/output_metadata.html" class="external-link">rmarkdown::output_metadata()</a></code>. See the
<a href="https://docs.rstudio.com/connect/1.7.2/user/r-markdown.html" class="external-link">RStudio Connect documentation</a>
for more. <code>yml_output_metadata()</code> allows you to add any type of content to
the <code>rmd_output_metadata</code> field.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">yml_rsconnect_email</span><span class="op">(</span></span>
<span>  <span class="va">.yml</span>,</span>
<span>  rsc_email_subject <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rsc_email_body_html <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rsc_email_body_text <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rsc_email_images <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rsc_output_files <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rsc_email_attachments <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rsc_email_suppress_scheduled <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  rsc_email_suppress_report_attachment <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  resource_files <span class="op">=</span> <span class="fu"><a href="yml_blank.html">yml_blank</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">yml_output_metadata</span><span class="op">(</span><span class="va">.yml</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>.yml</dt>
<dd><p>a <code>yml</code> object created by <code><a href="yml.html">yml()</a></code>, <code><a href="as_yml.html">as_yml()</a></code>, or returned by
a <code>yml_*()</code> function</p></dd>


<dt>rsc_email_subject</dt>
<dd><p>The subject of the email. A report without an
<code>rsc_email_subject</code> entry uses its published document name.</p></dd>


<dt>rsc_email_body_html, rsc_email_body_text</dt>
<dd><p>The body of the email, either
in plain text or HTML. A report with neither entry uses an automatically
generated, plain-text body with a link to the report’s URL.</p></dd>


<dt>rsc_email_images</dt>
<dd><p>Images to embed in the email. The embedded image must
have a Content ID that is used in the body of the HTML and when providing
the image to <code>rsc_email_images</code>, and the image itself must be
base64-encoded, e.g. with the base64enc package.</p></dd>


<dt>rsc_output_files</dt>
<dd><p>A vector of file names that should be available after
the report has rendered. If you list a file that does not exist after
rendering your report, Connect will log a message but continue trying to
processing the other files listed. If the output files are not generated
during the rendering of your report, then you will also need to list them
in <code>resource_files</code> when you upload your report to Connect.</p></dd>


<dt>rsc_email_attachments</dt>
<dd><p>A vector of file names that should be attached
to the email.</p></dd>


<dt>rsc_email_suppress_scheduled</dt>
<dd><p>Logical. Should the email schedule be
suppressed? Default is <code>FALSE</code>.</p></dd>


<dt>rsc_email_suppress_report_attachment</dt>
<dd><p>Logical. Should the rendered
document be included as an attachment? Default is <code>TRUE</code>.</p></dd>


<dt>resource_files</dt>
<dd><p>A file or files to host on RStudio Connect that is
<em>not</em> generated by your report, e.g. an existing file.</p></dd>


<dt>...</dt>
<dd><p>additional named R objects, such as characters or lists, to
transform into YAML</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a <code>yml</code> object</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other yml: 
<code><a href="asis_yaml_output.html">asis_yaml_output</a>()</code>,
<code><a href="bib2yml.html">bib2yml</a>()</code>,
<code><a href="draw_yml_tree.html">draw_yml_tree</a>()</code>,
<code><a href="has_field.html">has_field</a>()</code>,
<code><a href="read_json.html">read_json</a>()</code>,
<code><a href="use_yml_defaults.html">use_yml_defaults</a>()</code>,
<code><a href="use_file_yml.html">use_yml_file</a>()</code>,
<code><a href="use_yml.html">use_yml</a>()</code>,
<code><a href="yml_author.html">yml_author</a>()</code>,
<code><a href="yml_blogdown_opts.html">yml_blogdown_opts</a>()</code>,
<code><a href="yml_bookdown_opts.html">yml_bookdown_opts</a>()</code>,
<code><a href="yml_citations.html">yml_citations</a>()</code>,
<code><a href="yml_clean.html">yml_clean</a>()</code>,
<code><a href="yml_distill_opts.html">yml_distill_opts</a>()</code>,
<code><a href="yml_latex_opts.html">yml_latex_opts</a>()</code>,
<code><a href="yml_output.html">yml_output</a>()</code>,
<code><a href="yml_pagedown_opts.html">yml_pagedown_opts</a>()</code>,
<code><a href="yml_params.html">yml_params</a>()</code>,
<code><a href="yml_pkgdown.html">yml_pkgdown</a>()</code>,
<code><a href="yml_reference.html">yml_reference</a>()</code>,
<code><a href="yml_replace.html">yml_replace</a>()</code>,
<code><a href="yml_resource_files.html">yml_resource_files</a>()</code>,
<code><a href="yml_rticles_opts.html">yml_rticles_opts</a>()</code>,
<code><a href="yml_runtime.html">yml_runtime</a>()</code>,
<code><a href="yml_site_opts.html">yml_site_opts</a>()</code>,
<code><a href="yml_toc.html">yml_toc</a>()</code>,
<code><a href="yml_vignette.html">yml_vignette</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="yml.html">yml</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">yml_rsconnect_email</span><span class="op">(</span></span></span>
<span class="r-in"><span>    rsc_email_subject <span class="op">=</span> <span class="st">"Quarterly report"</span>,</span></span>
<span class="r-in"><span>    rsc_output_files <span class="op">=</span> <span class="st">"data.csv"</span>,</span></span>
<span class="r-in"><span>    rsc_email_attachments <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"attachment_1.csv"</span>, <span class="st">"attachment_2.csv"</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">---</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">date</span><span style="color: #555555;">:</span> '`r format(Sys.Date())`'</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #00BB00;">rmd_output_metadata</span><span style="color: #555555;">:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #00BB00;">rsc_email_subject</span><span style="color: #555555;">:</span> Quarterly report</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #00BB00;">rsc_output_files</span><span style="color: #555555;">:</span> data.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #00BB00;">rsc_email_attachments</span><span style="color: #555555;">:</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">- </span>attachment_1.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #555555;">- </span>attachment_2.csv</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #555555;">---</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Malcolm Barrett, Richard Iannone, RStudio.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

